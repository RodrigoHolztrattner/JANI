////////////////////////////////////////////////////////////////////////////////
// Filename: JaniWorker.h
////////////////////////////////////////////////////////////////////////////////
#pragma once

//////////////
// INCLUDES //
//////////////
#include "JaniConfig.h"

///////////////
// NAMESPACE //
///////////////

// Jani
JaniNamespaceBegin(Jani)

class Bridge;
class Database;

////////////////////////////////////////////////////////////////////////////////
// Class name: Runtime
////////////////////////////////////////////////////////////////////////////////
class Runtime
{
//////////////////////////
public: // CONSTRUCTORS //
//////////////////////////

    Runtime(Database& _database);
    ~Runtime();

//////////////////////////
public: // MAIN METHODS //
//////////////////////////

    /*
    *
    */
    void Update();

private:

    /*
    *
    */
    void ReceiveIncommingUserConnections();

    /*
    *
    */
    void ApplyLoadBalanceRequirements();

////////////////////////
private: // VARIABLES //
////////////////////////

    Database& m_database;

    std::vector<std::unique_ptr<Bridge>> m_bridges;
};

// Jani
JaniNamespaceEnd(Jani)